/*
  Landing page polish CSS (pairs with Tailwind classes)
  - Uses CSS variables + modern easing
  - Respects prefers-reduced-motion
*/

:root{
  --ease-out: cubic-bezier(.16,1,.3,1);
  --ease-in-out: cubic-bezier(.65,0,.35,1);
}

/* Better default focus ring (works with keyboard) */
:where(a, button){
  outline: none;
}
:where(a, button):focus-visible{
  outline: 2px solid rgba(59,130,246,.9);
  outline-offset: 3px;
}

/* Smooth scroll for anchor jumps (JS also handles older browsers + reduced motion) */
html{scroll-behavior:smooth;}

/* Soft grain for premium feel */
.bg-noise{
  position: relative;
  isolation: isolate;
}
.bg-noise::before{
  content:"";
  position:absolute;
  inset:0;
  pointer-events:none;
  opacity:.06;
  z-index:-1;
  background-image:
    radial-gradient(circle at 1px 1px, rgba(255,255,255,.9) 1px, transparent 0);
  background-size: 24px 24px;
  mix-blend-mode: overlay;
}

/* Load-in animation gate */
.js-load [data-onload]{
  opacity: 0;
  transform: translateY(14px);
}
.js-load.is-loaded [data-onload]{
  animation: heroIn .9s var(--ease-out) both;
}
.js-load.is-loaded [data-onload][data-delay="1"]{animation-delay:.08s;}
.js-load.is-loaded [data-onload][data-delay="2"]{animation-delay:.16s;}
.js-load.is-loaded [data-onload][data-delay="3"]{animation-delay:.24s;}

@keyframes heroIn{
  from{opacity:0; transform: translateY(14px); filter: blur(2px);}
  to{opacity:1; transform: translateY(0); filter: blur(0);}
}

/* Scroll reveal (IntersectionObserver toggles .is-visible once) */
[data-reveal]{
  opacity: 0;
  transform: translateY(16px);
  transition: opacity .7s var(--ease-out), transform .7s var(--ease-out);
  will-change: opacity, transform;
}
[data-reveal].is-visible{
  opacity: 1;
  transform: translateY(0);
}
[data-reveal][data-stagger]{
  transition-delay: var(--delay, 0ms);
}

/* Feature card hover: subtle lift + glow */
.card-hover{
  transition: transform .35s var(--ease-out), box-shadow .35s var(--ease-out), border-color .35s var(--ease-out);
}
.card-hover:hover{
  transform: translateY(-6px) scale(1.01);
  box-shadow:
    0 18px 45px rgba(15,23,42,.14),
    0 0 0 1px rgba(59,130,246,.18);
  border-color: rgba(59,130,246,.28);
}

/* Button sheen */
.btn-sheen{
  position: relative;
  overflow: hidden;
}
.btn-sheen::after{
  content:"";
  position:absolute;
  inset:-40% -30%;
  transform: translateX(-60%) rotate(12deg);
  background: linear-gradient(90deg, transparent 0%, rgba(255,255,255,.22) 50%, transparent 100%);
  transition: transform .7s var(--ease-out);
}
.btn-sheen:hover::after{transform: translateX(60%) rotate(12deg);}

/* How it works progress line (JS writes --progress 0..1) */
#how{
  --progress: 0;
}
#how .progress-rail{
  position: relative;
}
#how .progress-rail::before{
  content:"";
  position:absolute;
  left: 15px;
  top: 12px;
  bottom: 12px;
  width: 2px;
  border-radius: 999px;
  background: rgba(148,163,184,.55);
}
#how .progress-rail::after{
  content:"";
  position:absolute;
  left: 15px;
  top: 12px;
  bottom: 12px;
  width: 2px;
  border-radius: 999px;
  background: linear-gradient(180deg, rgba(59,130,246,1), rgba(34,197,94,1));
  transform-origin: top;
  transform: scaleY(var(--progress));
}

/* Security SVG pulse */
.lock-pulse{
  animation: pulse 2.8s var(--ease-in-out) infinite;
  transform-origin: 50% 50%;
}
@keyframes pulse{
  0%,100%{transform: scale(1); filter: drop-shadow(0 0 0 rgba(59,130,246,0));}
  50%{transform: scale(1.02); filter: drop-shadow(0 18px 35px rgba(59,130,246,.22));}
}

/* Footer animated underline */
.link-underline{
  background-image: linear-gradient(currentColor, currentColor);
  background-position: 0 100%;
  background-repeat: no-repeat;
  background-size: 0% 2px;
  transition: background-size .35s var(--ease-out), opacity .35s var(--ease-out);
}
.link-underline:hover{background-size: 100% 2px;}

/* Scroll-to-top button */
#toTop{
  transform: translateY(10px);
  opacity: 0;
  pointer-events: none;
  transition: opacity .25s var(--ease-out), transform .25s var(--ease-out);
}
#toTop.is-visible{
  opacity: 1;
  transform: translateY(0);
  pointer-events: auto;
}

/* Reduce motion: keep it premium but calm */
@media (prefers-reduced-motion: reduce){
  html{scroll-behavior:auto;}
  *{animation-duration: 1ms !important; animation-iteration-count: 1 !important; transition-duration: 1ms !important;}
}
